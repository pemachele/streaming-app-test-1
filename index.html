<html lang="en">
<head>
  <script src="https://cdn.jsdelivr.net/npm/webtorrent@latest/webtorrent.min.js"></script>
  <title>
    Streaming torrent with webtorrent
  </title>
</head>
<body>

<script>


  const torrentId = "magnet:?xt=urn:btih:2b9ab2de08b012ef6669373f200e2133b75604f8&dn=avc_Material+Dashboard+2+React+-+Google+Chrome+2023-02-07+01-22-10.mp4&tr=wss%3A%2F%2Ftracker.btorrent.xyz&tr=wss%3A%2F%2Ftracker.openwebtorrent.com&tr=udp%3A%2F%2Ftracker.leechers-paradise.org%3A6969&tr=udp%3A%2F%2Ftracker.coppersurfer.tk%3A6969&tr=udp%3A%2F%2Ftracker.opentrackr.org%3A1337&tr=udp%3A%2F%2Fexplodie.org%3A6969&tr=udp%3A%2F%2Ftracker.empire-js.us%3A1337"
  const torrentId2 = "magnet:?xt=urn:btih:08ada5a7a6183aae1e09d831df6748d566095a10&dn=Sintel&tr=udp%3A%2F%2Fexplodie.org%3A6969&tr=udp%3A%2F%2Ftracker.coppersurfer.tk%3A6969&tr=udp%3A%2F%2Ftracker.empire-js.us%3A1337&tr=udp%3A%2F%2Ftracker.leechers-paradise.org%3A6969&tr=udp%3A%2F%2Ftracker.opentrackr.org%3A1337&tr=wss%3A%2F%2Ftracker.btorrent.xyz&tr=wss%3A%2F%2Ftracker.fastcast.nz&tr=wss%3A%2F%2Ftracker.openwebtorrent.com&ws=https%3A%2F%2Fwebtorrent.io%2Ftorrents%2F&xs=https%3A%2F%2Fwebtorrent.io%2Ftorrents%2Fsintel.torrent"
  const client = new WebTorrent()

  client.add(torrentId, function (torrent) {
    const file = torrent.files[0]

    console.log('aaa', file)
    file.appendTo('#mambo')


  })


  function test() {


    var dd = document.getElementById("mambo").childNodes

    console.log("main con", dd)

    console.log("first index", dd[0].currentSrc)
    console.log("Second index", dd[1].currentSrc)
    var juu = dd[1].currentSrc.split("/")

    var urlNew = "blob:http://locahost/" + juu[1]


    var newVideo = document.getElementById("video2")
    newVideo.setAttribute('src', urlNew);
  }


  client.on('error', function (err) {
    console.error('ERROR: ' + err.message)
  })
</script>

<button onclick="test()">
  Fanya mambo
</button>

<div id="mambo">

</div>


<div id="mambo2">
  <video id="video2"></video>

</div>

dfds
</body>
</html>
